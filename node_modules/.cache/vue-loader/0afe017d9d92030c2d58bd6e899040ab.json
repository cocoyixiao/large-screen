{"remainingRequest":"/Users/edy/work/large-screen/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/edy/work/large-screen/src/components/CircleRing.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/edy/work/large-screen/src/components/CircleRing.vue","mtime":1679534853808},{"path":"/Users/edy/work/large-screen/node_modules/cache-loader/dist/cjs.js","mtime":1679560601711},{"path":"/Users/edy/work/large-screen/node_modules/babel-loader/lib/index.js","mtime":1679560602183},{"path":"/Users/edy/work/large-screen/node_modules/cache-loader/dist/cjs.js","mtime":1679560601711},{"path":"/Users/edy/work/large-screen/node_modules/vue-loader/lib/index.js","mtime":1679560602306}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiUHJvZ3Jlc3MiLAogIHByb3BzOiB7CiAgICByYXRlOiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogMCwKICAgIH0sCiAgICBiZ1JpbmdDb2xvcjogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICIjMjViNDg5IiwKICAgIH0sCiAgICByaW5nQ29sb3I6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAiIzY3QzIzQSIsCiAgICB9LAogICAgc3Ryb2tlTGluZWNhcDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICJyb3VuZCIsCiAgICB9LAogICAgc3Ryb2tlV2lkdGg6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAyMCwKICAgIH0sCiAgICBwYXJ0OiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogMjAsCiAgICB9LAogICAgcGFydEdhcDogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDEyLAogICAgfSwKICAgIHNob3dHcmFkaWVudDogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZSwKICAgIH0sCiAgICBjbG9ja1dpc2U6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogdHJ1ZSwKICAgIH0sCiAgICBncmFkaWVudDogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIGRlZmF1bHQ6ICgpID0+IHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgaWQ6ICJzdmctbGluZWFyLWdyYWRpZW50IiwKICAgICAgICAgIHgxOiAiMCUiLAogICAgICAgICAgeTE6ICIwJSIsCiAgICAgICAgICB4MjogIjAlIiwKICAgICAgICAgIHkyOiAiMTAwJSIsCiAgICAgICAgICBjb2xvclN0b3BzOiBbCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICBvZmZzZXQ6ICIwJSIsCiAgICAgICAgICAgICAgY29sb3I6ICJ5ZWxsb3ciLAogICAgICAgICAgICB9LAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgb2Zmc2V0OiAiMTAwJSIsCiAgICAgICAgICAgICAgY29sb3I6ICJvcmFuZ2UiLAogICAgICAgICAgICB9LAogICAgICAgICAgXSwKICAgICAgICB9OwogICAgICB9LAogICAgfSwKICB9LAogIGNvbXB1dGVkOiB7CiAgICByYWRpdXMoKSB7CiAgICAgIHJldHVybiAyMDAgLSB0aGlzLnN0cm9rZVdpZHRoIC8gMjsKICAgIH0sCiAgICBzdHJva2VEYXNoYXJyYXkoKSB7CiAgICAgIGxldCB2YWx1ZSA9IDA7CiAgICAgIC8qIAogICAgICAgIOW9k3N0cm9rZS1saW5lY2Fw55qE5YC85Li6cm91bmTml7bvvIznu5PlsL7lpITkvJrlkJHlpJblu7bkvLjmj4/ovrnlrr3luqbnmoTkuIDljYoKICAgICAgICDpppblsL7kuKTkuKrnq6/ngrnvvIzmiYDku6XlsLHmmK/mj4/ovrnnmoTlrr3luqYKICAgICAgKi8KICAgICAgaWYgKHRoaXMuc3Ryb2tlTGluZWNhcCA9PT0gInJvdW5kIikgewogICAgICAgIHZhbHVlID0gMiAqIE1hdGguUEkgKiB0aGlzLnJhZGl1cyArIHRoaXMuc3Ryb2tlV2lkdGg7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFsdWUgPSAyICogTWF0aC5QSSAqIHRoaXMucmFkaXVzOwogICAgICB9CiAgICAgIHJldHVybiB2YWx1ZTsKICAgIH0sCiAgICBzdHJva2VEYXNob2Zmc2V0KCkgewogICAgICBsZXQgdmFsID0gMDsKICAgICAgbGV0IHJhdGUgPSB0aGlzLnJhdGU7CiAgICAgIGlmIChyYXRlID4gMSkgewogICAgICAgIHJhdGUgPSAxOwogICAgICB9IGVsc2UgaWYgKHJhdGUgPCAwKSB7CiAgICAgICAgcmF0ZSA9IDA7CiAgICAgIH0KICAgICAgaWYgKHRoaXMuc3Ryb2tlTGluZWNhcCA9PT0gInJvdW5kIikgewogICAgICAgIHZhbCA9IDIgKiBNYXRoLlBJICogdGhpcy5yYWRpdXMgKiAoMSAtIHJhdGUpICsgdGhpcy5zdHJva2VXaWR0aDsKICAgICAgfSBlbHNlIHsKICAgICAgICB2YWwgPSAyICogTWF0aC5QSSAqIHRoaXMucmFkaXVzICogKDEgLSByYXRlKTsKICAgICAgfQogICAgICByZXR1cm4gdmFsOwogICAgfSwKICAgIHN0cm9rZURhc2hhcnJheTEoKSB7CiAgICAgIHZhciBwYXJ0TGVuZ3RoID0gKDIgKiBNYXRoLlBJICogdGhpcy5yYWRpdXMpIC8gdGhpcy5wYXJ0OwogICAgICByZXR1cm4gYCR7dGhpcy5wYXJ0R2FwfSAke3BhcnRMZW5ndGggLSB0aGlzLnBhcnRHYXB9YDsKICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["CircleRing.vue"],"names":[],"mappings":";AAoEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CircleRing.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"progress\">\n    <svg\n      :style=\"{ transform: clockWise ? 'rotateY(0deg)' : 'rotateY(180deg)' }\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"100%\"\n      height=\"100%\"\n      viewBox=\"0 0 400 400\"\n    >\n      <!-- 定义渐变色 -->\n      <defs v-if=\"showGradient\">\n        <linearGradient\n          :id=\"gradient.id\"\n          :x1=\"gradient.x1\"\n          :y1=\"gradient.y1\"\n          :x2=\"gradient.x2\"\n          :y2=\"gradient.y2\"\n        >\n          <stop\n            v-for=\"(item, index) in gradient.colorStops\"\n            :key=\"index\"\n            :offset=\"item.offset\"\n            :stop-color=\"item.color\"\n          />\n        </linearGradient>\n      </defs>\n      <!-- 底部背景圆环 -->\n      <circle\n        cx=\"200\"\n        cy=\"200\"\n        :r=\"radius\"\n        :stroke=\"bgRingColor\"\n        :stroke-width=\"strokeWidth\"\n        fill=\"none\"\n      />\n      <!-- 进度条圆环 -->\n      <circle\n        class=\"progress-bar\"\n        cx=\"200\"\n        cy=\"200\"\n        :r=\"radius\"\n        :stroke=\"showGradient ? `url(#${gradient.id})` : ringColor\"\n        :stroke-width=\"strokeWidth\"\n        :stroke-linecap=\"strokeLinecap\"\n        fill=\"none\"\n        transform=\"rotate(-90, 200, 200)\"\n        :stroke-dasharray=\"strokeDasharray\"\n        :stroke-dashoffset=\"strokeDashoffset\"\n      />\n      <!-- 环形分割细线 -->\n      <circle\n        cx=\"200\"\n        cy=\"200\"\n        :r=\"radius\"\n        stroke=\"#071727\"\n        fill=\"transparent\"\n        :stroke-width=\"strokeWidth + 2\"\n        :stroke-dasharray=\"strokeDasharray1\"\n        transform=\"rotate(-90, 200, 200)\"\n      ></circle>\n    </svg>\n    <!-- 中间描述文字 -->\n    <div class=\"progress-desc\">\n      <slot></slot>\n    </div>\n  </div>\n</template>\n<script>\nexport default {\n  name: \"Progress\",\n  props: {\n    rate: {\n      type: Number,\n      default: 0,\n    },\n    bgRingColor: {\n      type: String,\n      default: \"#25b489\",\n    },\n    ringColor: {\n      type: String,\n      default: \"#67C23A\",\n    },\n    strokeLinecap: {\n      type: String,\n      default: \"round\",\n    },\n    strokeWidth: {\n      type: Number,\n      default: 20,\n    },\n    part: {\n      type: Number,\n      default: 20,\n    },\n    partGap: {\n      type: Number,\n      default: 12,\n    },\n    showGradient: {\n      type: Boolean,\n      default: false,\n    },\n    clockWise: {\n      type: Boolean,\n      default: true,\n    },\n    gradient: {\n      type: Object,\n      default: () => {\n        return {\n          id: \"svg-linear-gradient\",\n          x1: \"0%\",\n          y1: \"0%\",\n          x2: \"0%\",\n          y2: \"100%\",\n          colorStops: [\n            {\n              offset: \"0%\",\n              color: \"yellow\",\n            },\n            {\n              offset: \"100%\",\n              color: \"orange\",\n            },\n          ],\n        };\n      },\n    },\n  },\n  computed: {\n    radius() {\n      return 200 - this.strokeWidth / 2;\n    },\n    strokeDasharray() {\n      let value = 0;\n      /* \n        当stroke-linecap的值为round时，结尾处会向外延伸描边宽度的一半\n        首尾两个端点，所以就是描边的宽度\n      */\n      if (this.strokeLinecap === \"round\") {\n        value = 2 * Math.PI * this.radius + this.strokeWidth;\n      } else {\n        value = 2 * Math.PI * this.radius;\n      }\n      return value;\n    },\n    strokeDashoffset() {\n      let val = 0;\n      let rate = this.rate;\n      if (rate > 1) {\n        rate = 1;\n      } else if (rate < 0) {\n        rate = 0;\n      }\n      if (this.strokeLinecap === \"round\") {\n        val = 2 * Math.PI * this.radius * (1 - rate) + this.strokeWidth;\n      } else {\n        val = 2 * Math.PI * this.radius * (1 - rate);\n      }\n      return val;\n    },\n    strokeDasharray1() {\n      var partLength = (2 * Math.PI * this.radius) / this.part;\n      return `${this.partGap} ${partLength - this.partGap}`;\n    },\n  },\n};\n</script>\n<style scoped>\n.progress {\n  position: relative;\n  width: 100%;\n  height: 100%;\n}\n.progress-desc {\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  font-family: \"Microsoft YaHei\";\n  font-size: 20px;\n  text-align: center;\n}\n</style>"]}]}